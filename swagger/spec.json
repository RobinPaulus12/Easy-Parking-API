{"openapi":"3.0.0","info":{"title":"API","version":"1.0.0"},"paths":{"":{},"/car":{"post":{"security":[{"bearerAuth":[]}],"tags":["Car"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarToAdd"}}}},"responses":{"201":{"$ref":"#/components/responses/CarAdded"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}},"patch":{"security":[{"bearerAuth":[]}],"tags":["Car"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CarToUpdate"}}}},"responses":{"204":{"description":"car updated"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/car/all":{"get":{"security":[{"bearerAuth":[]}],"tags":["Car"],"summary":"Get all cars","responses":{"200":{"description":"List of all cars","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Car"}}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"description":"Only admins are allowed to access this endpoint"},"500":{"description":"Server error"}}}},"/car/me":{"get":{"security":[{"bearerAuth":[]}],"tags":["Car"],"summary":"Get all cars owned by the logged-in user","responses":{"200":{"description":"List of cars owned by the logged-in user","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Car"}}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"500":{"description":"Server error"}}}},"/car/{car_id}":{"delete":{"security":[{"bearerAuth":[]}],"tags":["Car"],"parameters":[{"in":"path","name":"car_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the car to delete"}],"responses":{"204":{"description":"car deleted"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/car/withRegistration":{"post":{"security":[{"bearerAuth":[]}],"tags":["Car"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/carWithRegistration"}}}},"responses":{"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"500":{"description":"Server error"}}}},"/locality":{"post":{"security":[{"bearerAuth":[]}],"tags":["Locality"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocalityToAdd"}}}},"responses":{"201":{"$ref":"#/components/responses/LocalityAdded"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}},"patch":{"security":[{"bearerAuth":[]}],"tags":["Locality"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocalityToUpdate"}}}},"responses":{"204":{"description":"locality updated"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/locality/all":{"get":{"security":[{"bearerAuth":[]}],"tags":["Locality"],"summary":"Get all localities","description":"Retrieve a list of all the localities in the system. Requires the user to be authenticated and have admin access.","responses":{"200":{"description":"A list of localities","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Locality"}}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"description":"Only admins are allowed to access this endpoint"},"500":{"description":"Error server"}}}},"/locality/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Locality"],"parameters":[{"in":"path","name":"locality_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the locality to get"}],"responses":{"200":{"$ref":"#/components/schemas/Locality"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"locality not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Error server"}}}},"/locality/{locality_id}":{"delete":{"security":[{"bearerAuth":[]}],"tags":["Locality"],"parameters":[{"in":"path","name":"locality_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the locality to delete"}],"responses":{"204":{"description":"locality deleted"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/parking":{"post":{"security":[{"bearerAuth":[]}],"tags":["Parking"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParkingToAdd"}}}},"responses":{"201":{"$ref":"#/components/responses/ParkingAdded"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}},"patch":{"security":[{"bearerAuth":[]}],"tags":["Parking"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ParkingToUpdate"}}}},"responses":{"204":{"description":"parking updated"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/parking/all":{"get":{"security":[{"bearerAuth":[]}],"tags":["Parking"],"summary":"Get all parkings","responses":{"200":{"description":"Returns a list of all parkings","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Parking"}}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}}},"/parking/{parking_id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Parking"],"parameters":[{"in":"path","name":"parking_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the parking to get"}],"responses":{"200":{"$ref":"#/components/schemas/Parking"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"parking not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Error server"}}},"delete":{"security":[{"bearerAuth":[]}],"tags":["Parking"],"parameters":[{"in":"path","name":"parking_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the parking to delete"}],"responses":{"204":{"description":"parking deleted"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/parking/withLocality":{"post":{"security":[{"bearerAuth":[]}],"tags":["Parking"],"summary":"Create parking with locality","requestBody":{"description":"Object containing parking and locality details","content":{"application/json":{"schema":{"type":"object","properties":{"locality":{"$ref":"#/components/schemas/Locality"},"parking":{"$ref":"#/components/schemas/ParkingToAdd"}},"required":["locality","parking"]}}}},"responses":{"201":{"description":"Parking and locality successfully created"},"400":{"description":"Validation error","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}}},"/place":{"post":{"security":[{"bearerAuth":[]}],"tags":["Place"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceToAdd"}}}},"responses":{"201":{"$ref":"#/components/responses/PlaceAdded"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}},"patch":{"security":[{"bearerAuth":[]}],"tags":["Place"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlaceToUpdate"}}}},"responses":{"204":{"description":"place updated"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/place/all":{"get":{"security":[{"bearerAuth":[]}],"tags":["Place"],"summary":"Get all places","responses":{"200":{"description":"Returns a list of all places","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Place"}}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Server error"}}}},"/place/{parking_id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Place"],"parameters":[{"in":"path","name":"parking_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the parking to get"}],"responses":{"200":{"$ref":"#/components/schemas/Place"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"place not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Error server"}}}},"/place/{place_id}":{"delete":{"security":[{"bearerAuth":[]}],"tags":["Place"],"parameters":[{"in":"path","name":"place_id","schema":{"type":"integer"},"required":true,"description":"Numeric ID of the place to delete"}],"responses":{"204":{"description":"place deleted"},"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"403":{"$ref":"#/components/responses/mustBeAdmin"},"500":{"description":"Error server"}}}},"/place/withParking":{"post":{"security":[{"bearerAuth":[]}],"tags":["Place"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/placeWithParking"}}}},"responses":{"400":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}},"401":{"$ref":"#/components/responses/UnauthorizedError"},"500":{"description":"Server error"}}}}},"components":{"schemas":{"Car":{"type":"object","properties":{"car_id":{"type":"integer"},"license_plate":{"type":"string"},"model":{"type":"string"},"fk_user":{"type":"integer"}}},"Locality":{"type":"object","properties":{"locality_id":{"type":"integer"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"street_name":{"type":"string"}}},"Parking":{"type":"object","properties":{"parking_id":{"type":"integer"},"name":{"type":"string"},"coordinates":{"type":"string"},"places":{"type":"integer"},"telephone":{"type":"string"},"opening":{"type":"string"},"place_width":{"type":"number"},"fk_locality":{"type":"integer"}}},"Place":{"type":"object","properties":{"place_id":{"type":"integer"},"arrival_time":{"type":"string"},"departure_time":{"type":"string"},"fk_parking":{"type":"integer"}}},"carIDSchema":{"type":"object","properties":{"car_id":{"type":"integer"}},"required":["car_id"]},"carToAdd":{"type":"object","properties":{"license_plate":{"type":"string"},"model":{"type":"string"},"fk_user":{"type":"integer"}},"required":["license_plate","model"]},"carToUpdate":{"type":"object","properties":{"license_plate":{"type":"string"},"model":{"type":"string"}},"required":["license_plate","model"]},"carWithRegistration":{"type":"object","properties":{"user":{"type":"object","properties":{"name":{"type":"string"},"firstname":{"type":"string"},"date_of_birth":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"avatar":{"type":"boolean"}},"required":["name","firstname","date_of_birth","username","password"]},"car":{"type":"object","properties":{"license_plate":{"type":"string"},"model":{"type":"string"},"fk_user":{"type":"integer"}},"required":["license_plate","model"]}},"required":["user","car"]},"localityIDSchema":{"type":"object","properties":{"locality_id":{"type":"integer"}},"required":["locality_id"]},"localityToAdd":{"type":"object","properties":{"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"street_name":{"type":"string"}},"required":["city","country","postal_code","street_name"]},"localityToUpdate":{"type":"object","properties":{"locality_id":{"type":"integer"},"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"street_name":{"type":"string"}},"required":["locality_id"]},"ParkingIDSchema":{"type":"object","properties":{"parking_id":{"type":"integer"}},"required":["parking_id"]},"parkingToAdd":{"type":"object","properties":{"name":{"type":"string"},"coordinates":{"type":"string"},"places":{"type":"integer"},"telephone":{"type":"string"},"opening":{"type":"string"},"place_width":{"type":"number"},"fk_locality":{"type":"integer"}},"required":["name","coordinates","places","telephone","opening","place_width"]},"parkingToUpdate":{"type":"object","properties":{"parking_id":{"type":"integer"},"name":{"type":"string"},"coordinates":{"type":"string"},"places":{"type":"number"},"telephone":{"type":"string"},"opening":{"type":"string"},"place_width":{"type":"number"}},"required":["parking_id"]},"parkingWithLocality":{"type":"object","properties":{"locality":{"type":"object","properties":{"city":{"type":"string"},"country":{"type":"string"},"postal_code":{"type":"string"},"street_name":{"type":"string"}},"required":["city","country","postal_code","street_name"]},"parking":{"type":"object","properties":{"name":{"type":"string"},"coordinates":{"type":"string"},"places":{"type":"number"},"telephone":{"type":"string"},"opening":{"type":"string"},"place_width":{"type":"number"},"fk_locality":{"type":"integer"}},"required":["name","coordinates","places","telephone","opening","place_width"]}},"required":["locality","parking"]},"PlaceIDSchema":{"type":"object","properties":{"place_id":{"type":"integer"}},"required":["place_id"]},"placeToAdd":{"type":"object","properties":{"arrival_time":{"type":"string"},"departure_time":{"type":"string"},"fk_parking":{"type":"integer"}},"required":["arrival_time","departure_time","fk_parking"]},"placeToUpdate":{"type":"object","properties":{"place_id":{"type":"integer"},"arrival_time":{"type":"string"},"departure_time":{"type":"string"},"fk_parking":{"type":"integer"}},"required":["place_id"]},"placeWithParking":{"type":"object","properties":{"parking":{"type":"object","properties":{"name":{"type":"string"},"coordinates":{"type":"string"},"places":{"type":"number"},"telephone":{"type":"string"},"opening":{"type":"string"},"place_width":{"type":"number"},"fk_locality":{"type":"integer"}},"required":["name","coordinates","places","telephone","opening","place_width"]},"place":{"type":"object","properties":{"arrival_time":{"type":"string"},"departure_time":{"type":"string"},"fk_parking":{"type":"integer"}},"required":["arrival_time","departure_time"]}},"required":["parking","place"]}},"responses":{"getCarInfo":{"description":"the car","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Car"}}}},"getAllCarsByUser":{"description":"list of all the cars for a user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Car"}}}},"CarAdded":{"description":"the car","content":{"application/json":{"schema":{"type":"object","properties":{"car_id":{"type":"integer"}}}}}},"carUpdated":"description:car details updated successfully","UpdateCarError":{"description":"Error occurred while updating car details"},"CarDeleted":{"description":"Car deleted successfully"},"DeleteCarError":{"description":"Error occurred while deleting car"},"getAllCars":{"description":"list of all the cars","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Car"}}}},"purchaseWithRegistration":{"description":"The car and the user are saved"},"getLocality":{"description":"the locality","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Locality"}}}},"getParking":{"description":"the parking","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Parking"}}}},"Parkings":{"description":"Returns a list of all parkings with pagination","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Parking"}}}}},"ParkingAdded":{"description":"the parking","content":{"application/json":{"schema":{"type":"object","properties":{"parking_id":{"type":"integer"}}}}}},"ParkingUpdated":{"description":"Parking details updated successfully"},"UpdateParkingError":{"description":"Error occurred while updating parking details"},"ParkingDeleted":{"description":"Parking deleted successfully"},"DeleteParkingError":{"description":"Error occurred while deleting parking"},"parkingWithLocality":{"description":"The parking and the locality are saved"},"Places":{"description":"Returns a list of all places with pagination","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Place"}}}}},"placeWithParking":{"description":"The place and the parking are saved"},"mustBeAdmin":{"description":"the action must be realized by an admin"},"UnauthorizedError":{"description":"JWT is missing or invalid","content":{"text/plain":{"schema":{"type":"string"}}}},"ValidationError":{"description":"the error(s) described","content":{"text/plain":{"schema":{"type":"string"}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"tags":[]}